dist: trusty
sudo: false
branches:
  only:
  - master
  - "/^v?([0-9]*)\\.([0-9]*)\\.([0-9]*)$/"
env:
  matrix:
  - TF_INPUT=false
  global:
  - secure: r1qvUWZAFL9HQctUU9U4B5nWE4eNasw/mNAmpHyGPcvLyoFcJpT32J2jpJCFMN0tDeMbX7WiGBWKoZ7/6n0r9bzXCTXwWEzqZ2AWh69dv3eRFFd9aMz+NF89XN3bNDewi4/YzLQJ0Vt8/GTffsmMM1+kZYYH5ayZJph35F2Kri0oDOAszKJF/KNrwvonxNVbSS+aPvEicz5lkm0hoDC8QetPWiJl7AWhxJmHj05qlARbKd/Xh22MryIYqrPCWW8oP+mXfZ0wiN9FxwYS1oEANq7N2gtwHEqqC0UMERAtxbqc8hmdoBUg9/qdhq7xbPxxya4ICKy22dkfP5e9+lc1YSUfbKRK8MEbWCcsqm0CMZUcksbqOTebSr2nUEbG7jCiVPdvwA0Hq673rSkFX8y2o7jC0yEM0Mj8bbewc3dJgDDq5yOAygB6pboNxRQeBT/89a1WoSKUE8Z3dRjjjo1QLJSVapjaeqzZuHIUKNU0REhEspyMZswf3UM/9F//7tyFV4Z5lSLa3ucgNpf4kkv0W51Z6R+/TY8O3QppqygRfciuBB55mVj8MwJxmKwWIxrlatuHgaoBUOBJUa5rAJRQ43C8m1wL/AF/wlpat2mKmifGJ8mcH+khx0hlaK447ZIJx9BLrkmirHt2pde24tuZFF87UokEXmnysJcssUDAKQ8=
  - secure: uKspYeDFcQhQUQhHGaJ1m+ZxifpAuSbjDaLNRxCHJ14dIvJ5TVUMlHxwx0AwD/ljyaobMBoYtrAprVkR03Q6OOANGtZdza/YpZSQUGbmgInIo2lCiRQaXWl/3qCfLlEsG0RpaU80he2W0XYwOKrR8UVezvUeZ7TGZNCOAj2zQ3RoAydDcUp7FVbvEGufkWO9AV45iQErH0JXqTlAajUHJ6gh+JyOCsqX7GER9BQjEUfjxJok+k2TzyFha0D8u1/yY+9TApNIUCMEQC/xkL8OsqCrYzO/woxognTJh7XgaeKw+BijZoMvw0jzl7sbIHS4jV877FS5gr9dwnuFGPr0KrXZ/PFqUeCHOWOEsYy5+i6zJ8kE82kmksse0XGIPVc7TavWthlybuWR0o5U8ZsuMj490KW7N0pr3t2yLxC98ELVBlmn77rgKKOUCQ/pssOSLhn/r0cZEkM3B7QyCkhA0Ir4B7hFc1nqFG/T7uYxFPNK7qW+8IdXEsx1Si354aWIWKo5RXtx7EfVQ3JJc2fKETiEs1UH6a1SaFa7XfUcriiu7MIYviF9Rh+/+6kK1VjDi4xu6NTxv1SoVrzbenBHAL7MlxohYjtPdpRbD7TpTBpjPMkl5GeU6Rf8XeeFPGVEn8sdsJ1MkU9iiVXjc05JT41nblV4jUz/JQLhJSspiLk=
  - secure: JpE3n44vbwR4RvyqznAiPyP7GwmbomsaL6jBmWQAFGUgk1RX/zPSLJDVCqBAQeZEwyaCjQabSYTIcHZrhchCaMKn0ihut3EzOHAIeenzE6SUys6f7WS5qr1TGwmMoOOuVXXVfq3d04VqiRlKzMFBacHGur4y9O+IzI/oq9Y0mZO3sbczDmkf0j7jotOoN+MKa9c7AYiJmL18mMMX9y6b1LwMaFBaZpEQ1hFUsPi8kLF/VN+IjE7gX+77R4xkjTURQDZL4AGe6mRBZgWRnzheadCig3QDS11pFuzPpJ8HRbGL7pikTyLR5t9gZNlFkXJcfxME1742dorZ73OD6nIYQXGTZ10SqSdzRAuvl1l9NF1thBCzKIK7m6jOq+mKLWwdQXo9ThauesIxgkBxt0qskEJ0C2lbLaf82Wj5kmtNyf9GknHJz9HHSKkEP65pZp8ZNq3ePzE8QFdRR2K1m7BykUcFVQJ4ntiGKpBfhRrP/zcUguZql8Y1juWPuZlDanBZP/K27qVKdVlvoMBWXyn4DNlL7Gt6BDTVkrvfJx4RJWVlNcoW9kQN3sshomtDm4bldsNJLI1OLohG/u6gNPqrip0D2pjJLHuk47JUgrKA6Cm4oWxHQMcQFL2JP6iafG/NwpXRZq1zDGAdN7Eeb5wIgkeTstU/1vY04AfDfqU/QM0=
  - secure: UO7ClKT6fYFg7fjKRZab9vAGrb6ozySq2EaMln9F54EJBhwTaI7e55LWtwh/50i5umKf0LTNFtOlt698IrG/7xzZ3GRKBCUNjFD8UhOkLQMK2eKaNYJgJYYiZnT1jAlzFhG7DhkGty1wS7dKRO40LmYY+VENv3pqp6b35Cv2div2VTLjclzI67qRUfFAsyt4WIeys+FMU8uganQTsiLkq+WMmrndrXv1HQrV3n6h6TaFAoQw3LQgAkR42NzEzxkPQ52tIqOcTWO5hvGpko17iGAmFtp2FV1M4kLbOXpwXDokdtyOcgdxjmsBWF+mT5oxxkAxk75ZJLyVy5Vy70FNkXdMpcfWBs8W862lRTlDasB7wtfSzHYtIZIrBn8yuUuoUy3NjjIhRp1tNLFAeBaVrVWlj4kyupUIL46d5NiIF7lGFZEu7A4gdKp48UZw7Fe8lftNemZYtP8k1iTiDKitknMjKwWQiPUh7O+i6tzReJMYsmVop+GXA0uAvmU+c339JQVLZ7ooseV5IwA/h4X+r8PuPrJV5GS2o9SbNiU52IXAoma8pHkYpto7cQ9+eID8+Bjfmu5OnQiNkKgWM3qMEv4INriLAZH4He6DEnITaP8JFLy4zwuCtwaeqXw3wDGTIW7ZDRsYSFX01swqLYlAF96WwCJp96/MErWo46yGZ4g=
  - secure: ueW+UStIMw1quCHArMdg52+0xQRAj5p/r0qU2ajd9G1qqXX0G3IPm/6qijWtuoU6wPtq0lPTZ3K+g6zpOyZvzhG9rh8+xjtX5mru9551acjD4qEjHvkJ+ULW6+pciksrADs9e/nPJHnNvuZ8No/lbqfk13qeMyaVUEWNWlK9dHfotYVyZ7J8jIKzEDpRaqVbCj7Sd9c4PW/XifvIP+ck4aG9hl9lUJ3UAbrKSz/fB7PQ9sx/YBDJ8nEueubjchLr/2UnGAG8JVM+Z+WLyR1XsHOVcEZvzsnIfrBzxP9StwtQvCl9Zgr8DoV1yBVmuNho4mRJ82UYiAwATzO8xGeBdTyKfyrINTBw8Xa9GqohNQgVyRS8fplonh2/KrGIQVgUzhQ1ZC5tctHpZsSNEOao8oC18ldLFTVghBU3S3uWrLHapTjj7P1dR50J+uAbQ5SHLJeCAfG61fQ7mZ0Y0LHbpdFFj11EbJe8/rALGF2TiqTITJHsWkUj9/jwdZv9Fc/NY00Nw0Y6mZ0EEPaFYNvD7e9Yeb4Lbsn1sJjuHSvPrm3liL9PmJJ8tR9X62u9/GYBjFj4TDygWF/787IChkJaVWatYSwwG4NHKOi89C/FNhaJHHNmGetJ5fDspR6/zLMJmIkX2zexY/6JxwZJcYEA8DbEEscJkaWqkGxpgpWypLg=
before_install:
- curl -sLo /tmp/terraform.zip https://releases.hashicorp.com/terraform/0.9.8/terraform_0.9.8_linux_amd64.zip
- unzip /tmp/terraform.zip -d /tmp
- mkdir ~/bin
- mv /tmp/terraform ~/bin
- export PATH="~/bin:$PATH"
script:
- terraform init
- terraform plan
deploy:
- provider: script
  skip_cleanup: true
  script: terraform apply ./terraform
  on:
    branch: master
